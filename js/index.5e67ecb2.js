(function(e){function t(t){for(var r,o,i=t[0],c=t[1],l=t[2],d=0,h=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(h.length)h.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={index:0},s=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"02c6":function(e,t,n){"use strict";n("6e77")},"259e":function(e,t,n){},3322:function(e,t,n){"use strict";n("259e")},"4c24":function(e,t,n){},"58a1":function(e,t,n){"use strict";n("cd2b")},"6e77":function(e,t,n){},"9c17":function(e,t,n){"use strict";n("4c24")},cd2b:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",[n("Home")],1)],1)},s=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Configurator")},i=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-stepper",{attrs:{vertical:""},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[n("v-stepper-step",{attrs:{complete:e.isCompleted(1),step:"1"},on:{click:function(t){return e.goToStepIfCompleted(1)}}},[e._v(" Welcome ")]),n("v-stepper-content",{attrs:{step:"1"}},[n("Welcome",{attrs:{answers:e.answers}}),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.goToStep(2)}}},[e._v(" Continue ")])],1),n("v-stepper-step",{attrs:{rules:[function(){return e.authenticationForm}],complete:e.isCompleted(2),step:"2"},on:{click:function(t){return e.goToStepIfCompleted(2)}}},[e._v(" Authentication "),n("small",{directives:[{name:"show",rawName:"v-show",value:e.isCompleted(2),expression:"isCompleted(2)"}],staticClass:"mt-1"},[e._v(" Webhook URL: "),n("pre",{staticClass:"d-inline"},[e._v(e._s(e.answers.authentication.webhook.url))]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.webhookUrlIsInsecure(),expression:"webhookUrlIsInsecure()"}]},[e._v(" without TLS-encryption ")])])]),n("v-stepper-content",{attrs:{step:"2"}},[n("v-form",{model:{value:e.authenticationForm,callback:function(t){e.authenticationForm=t},expression:"authenticationForm"}},[n("Authentication",{attrs:{answers:e.answers}}),n("v-btn",{attrs:{color:"primary",disabled:!e.authenticationForm},on:{click:function(t){return e.goToStep(3)}}},[e._v(" Continue ")]),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.goToStep(1)}}},[e._v(" Back ")])],1)],1),n("v-stepper-step",{attrs:{rules:[function(){return e.dynamicConfigurationForm}],complete:e.isCompleted(3),step:"3"},on:{click:function(t){return e.goToStepIfCompleted(3)}}},[e._v(" Dynamic configuration "),n("small",{directives:[{name:"show",rawName:"v-show",value:e.isCompleted(3)&&e.answers.configuration.use,expression:"isCompleted(3) && answers.configuration.use"}],staticClass:"mt-1"},[e._v(" Config server URL: "),n("pre",{staticClass:"d-inline"},[e._v(e._s(e.answers.configuration.server.url))]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.configServerUrlIsInsecure(),expression:"configServerUrlIsInsecure()"}]},[e._v(" without TLS-encryption ")])]),n("small",{directives:[{name:"show",rawName:"v-show",value:e.isCompleted(3)&&!e.answers.configuration.use,expression:"isCompleted(3) && !answers.configuration.use"}],staticClass:"mt-1"},[e._v(" Disabled. ")])]),n("v-stepper-content",{attrs:{step:"3"}},[n("v-form",{model:{value:e.dynamicConfigurationForm,callback:function(t){e.dynamicConfigurationForm=t},expression:"dynamicConfigurationForm"}},[n("DynamicConfiguration",{attrs:{answers:e.answers}}),n("v-btn",{attrs:{disabled:!e.dynamicConfigurationForm,color:"primary"},on:{click:function(t){return e.goToStep(4)}}},[e._v(" Continue ")]),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.goToStep(2)}}},[e._v(" Back ")])],1)],1),n("v-stepper-step",{attrs:{rules:[function(){return e.backendForm}],complete:e.isCompleted(4),step:"4"},on:{click:function(t){return e.goToStepIfCompleted(4)}}},[e._v(" Backend "),n("small",{directives:[{name:"show",rawName:"v-show",value:e.isCompleted(4),expression:"isCompleted(4)"}],staticClass:"mt-1"},[e._v(" Using: "),n("pre",{staticClass:"d-inline"},[e._v(e._s(e.answers.backend.backend))]),e._v(" , host: "),"docker"===e.answers.backend.backend?n("pre",{staticClass:"d-inline"},[e._v(e._s(e.answers.backend.docker.host))]):e._e(),"kubernetes"===e.answers.backend.backend?n("pre",{staticClass:"d-inline"},[e._v(e._s(e.answers.backend.kubernetes.host))]):e._e()])]),n("v-stepper-content",{attrs:{step:"4"}},[n("v-form",{model:{value:e.backendForm,callback:function(t){e.backendForm=t},expression:"backendForm"}},[n("Backend",{attrs:{answers:e.answers}}),"docker"===e.answers.backend.backend?n("div",[n("BackendDocker",{attrs:{answers:e.answers}})],1):e._e(),"kubernetes"===e.answers.backend.backend?n("div",[n("BackendKubernetes",{attrs:{answers:e.answers}})],1):e._e(),n("v-btn",{attrs:{disabled:!e.backendForm,color:"primary"},on:{click:function(t){return e.goToStep(5)}}},[e._v(" Continue ")]),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.goToStep(3)}}},[e._v(" Back ")])],1)],1),n("v-stepper-step",{attrs:{complete:e.isCompleted(5),step:"5"}},[e._v(" Download ")]),n("v-stepper-content",{attrs:{step:"5"}},[n("Download",{ref:"configGenerator",attrs:{answers:e.answers}})],1)],1)},l=[],u=(n("2ca0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",[n("p",[e._v("In the next few steps, we'll guide you through the main ContainerSSH settings and generate the configuration you need to get it up and running.")])])],1)],1)}),d=[],h={name:"Welcome",props:{configuration:Object},methods:{},data:function(){return{}}},v=h,f=n("2877"),p=n("6544"),m=n.n(p),b=n("62ad"),w=n("a523"),k=n("0fd9"),g=Object(f["a"])(v,u,d,!1,null,null,null),y=g.exports;m()(g,{VCol:b["a"],VContainer:w["a"],VRow:k["a"]});var C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-text-field",{attrs:{label:"Webhook URL",hint:"ContainerSSH will send a HTTP request to this URL for every authentication attempt. The webhook server can decide to allow or deny the request. You can find more information about the webhook protocol in the documentation.",rules:[e.rules.required,e.rules.isURL],"persistent-hint":"",outlined:"",required:""},model:{value:e.answers.authentication.webhook.url,callback:function(t){e.$set(e.answers.authentication.webhook,"url",t)},expression:"answers.authentication.webhook.url"}})],1)],1),n("v-row",{directives:[{name:"show",rawName:"v-show",value:e.webhookUrlIsInsecure(),expression:"webhookUrlIsInsecure()"}],attrs:{dense:""}},[n("v-col",[n("v-alert",{attrs:{icon:e.icons.mdiAlert,border:"left",color:"orange",dense:"",outlined:"",type:"warning"}},[e._v(" You are using an unencrypted ( "),n("pre",{staticClass:"d-inline"},[e._v("http://")]),e._v(" ) connection. ContainerSSH will transmit user credentials in clear text. We strongly recommend using a TLS-encrypted connection between ContainerSSH and the authentication webhook. ")])],1)],1),e.webhookUrlIsSecure()?n("v-row",{attrs:{dense:""}},[n("v-col",[n("CertificateField",{attrs:{label:"Webhook server certificate",rules:[function(t){return e.webhookUrlIsSecure()&&!!t||"Please provide a certificate for the webhook server. ContainerSSH uses this certificate to validate it is sending the user credentials to the correct server."}]},model:{value:e.answers.authentication.webhook.certificate,callback:function(t){e.$set(e.answers.authentication.webhook,"certificate",t)},expression:"answers.authentication.webhook.certificate"}})],1)],1):e._e(),e.webhookUrlIsSecure()?n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-checkbox",{attrs:{label:"TLS client authentication",hint:e.webhookUrlIsInsecure()?"TLS client authentication is not available with http:// URLs.":"ContainerSSH can authenticate itself with the authentication webhook server using TLS client certificates. Use this option to prevent brute forcing passwords against a publicly available authentication webhook server. Alternatively, firewall your webhook server.",disabled:e.webhookUrlIsInsecure(),"persistent-hint":""},model:{value:e.answers.authentication.webhook.tlsClientAuthentication,callback:function(t){e.$set(e.answers.authentication.webhook,"tlsClientAuthentication",t)},expression:"answers.authentication.webhook.tlsClientAuthentication"}})],1)],1):e._e(),e.webhookUrlIsSecure()?n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-alert",{directives:[{name:"show",rawName:"v-show",value:!e.answers.authentication.webhook.tlsClientAuthentication,expression:"!answers.authentication.webhook.tlsClientAuthentication"}],attrs:{icon:e.icons.mdiAlert,border:"left",color:"orange",dense:"",outlined:"",type:"warning"}},[e._v(" You are not using TLS client authentication. Anyone able to reach your authentication webhook server can brute force SSH credentials. Please firewall your webhook. ")]),n("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.answers.authentication.webhook.tlsClientAuthentication,expression:"answers.authentication.webhook.tlsClientAuthentication"}],attrs:{icon:e.icons.mdiCheck,border:"left",color:"green",dense:"",outlined:"",type:"success"}},[e._v(" Please add your client TLS certificates to the final config file in the marked space. ")])],1)],1):e._e()],1)},S=[],_=n("6ccf"),x=n.n(_),I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-textarea",e._g(e._b({staticClass:"v-textarea-certificate",attrs:{rules:e.rules.concat(this.certificateRules),label:e.label,hint:e.hint,value:e.value,"persistent-hint":"",outlined:"",spellcheck:"false"}},"v-textarea",e.$attrs,!1),e.$listeners)),n("v-file-input",{attrs:{label:e.label+" file",loading:e.uploadInProgress,"error-messages":e.uploadErrorMessage,accept:".crt, .cer, .pem, .txt"},on:{change:function(t){return e.loadFile()}},model:{value:e.payload,callback:function(t){e.payload=t},expression:"payload"}})],1)},T=[],E=(n("ac1f"),n("00b4"),n("5319"),n("a844")),A={name:"CertificateField",props:{label:{type:String,required:!0},hint:{type:String},value:{type:String},required:{type:Boolean,default:!1},rules:{}},extends:E["a"],data:function(){return{certificateRules:[function(e){return/^-----BEGIN CERTIFICATE-----([\s\S]*)-----END CERTIFICATE-----\s?$/.test(e)||"This does not look like a PEM certificate."}],uploadErrorMessage:"",uploadInProgress:!1,payload:null}},methods:{loadFile:function(){var e=this;if(null!=this.payload){var t=new FileReader;t.readAsText(this.payload,"UTF-8"),t.onload=function(){e.$emit("input",t.result.replace(/\r\n/g,"\n").replace(/\r/g,"\n"))},t.onerror=function(){e.uploadErrorMessage="The file failed to load! Please try again or paste certificate text from clipboard."},t.onloadstart=function(){e.uploadInProgress=!0},t.onloadend=function(){e.uploadInProgress=!1}}}},computed:{textarea:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},V=A,R=(n("9c17"),n("23a7")),F=Object(f["a"])(V,I,T,!1,null,null,null),U=F.exports;m()(F,{VFileInput:R["a"],VTextarea:E["a"]});var N=n("94ed"),$={name:"Authentication",props:{answers:Object},components:{CertificateField:U},methods:{webhookUrlIsInsecure:function(){return this.answers.authentication.webhook.url.startsWith("http:")},webhookUrlIsSecure:function(){return this.answers.authentication.webhook.url.startsWith("https:")}},data:function(){return{icons:{mdiAlert:N["a"],mdiCheck:N["b"]},rules:{required:function(e){return!!e||"Required."},isURL:function(e){return x()(e,{protocols:["http","https"],require_tld:!1})||"The specified URL is valid."}}}}},P=$,L=(n("02c6"),n("0798")),q=n("ac7c"),O=n("8654"),D=Object(f["a"])(P,C,S,!1,null,null,null),j=D.exports;m()(D,{VAlert:L["a"],VCheckbox:q["a"],VCol:b["a"],VContainer:w["a"],VRow:k["a"],VTextField:O["a"]});var B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",[n("v-checkbox",{attrs:{label:"Use dynamic configuration","persistent-hint":""},model:{value:e.answers.configuration.use,callback:function(t){e.$set(e.answers.configuration,"use",t)},expression:"answers.configuration.use"}})],1)],1),e.useDynamicConfiguration()?n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"Server server URL",hint:"ContainerSSH will send a HTTP request to this URL for every authentication attempt. The webhook server can decide to allow or deny the request. You can find more information about the webhook protocol in the documentation.",rules:[e.rules.required,e.rules.isURL],"persistent-hint":"",outlined:"",required:""},model:{value:e.answers.configuration.server.url,callback:function(t){e.$set(e.answers.configuration.server,"url",t)},expression:"answers.configuration.server.url"}})],1)],1):e._e(),e.useDynamicConfiguration()&&e.serverUrlIsInsecure()?n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-alert",{attrs:{icon:e.icons.mdiAlert,border:"left",color:"orange",dense:"",outlined:"",type:"warning"}},[e._v(" You are using an unencrypted ( "),n("pre",{staticClass:"d-inline"},[e._v("http://")]),e._v(" ) connection. ContainerSSH will transmit configuration in clear text. We strongly recommend using a TLS-encrypted connection between ContainerSSH and the config server. ")])],1)],1):e._e(),e.useDynamicConfigurationAndUrlIsSecure()?n("v-row",{attrs:{dense:""}},[n("v-col",[n("CertificateField",{attrs:{label:"Configuration server certificate",rules:[function(t){return!e.serverUrlIsInsecure()&&!!t||"Please provide a certificate for the configuration server. ContainerSSH uses this certificate to validate it is sending the user credentials to the correct server."}]},model:{value:e.answers.configuration.server.certificate,callback:function(t){e.$set(e.answers.configuration.server,"certificate",t)},expression:"answers.configuration.server.certificate"}})],1)],1):e._e(),e.useDynamicConfigurationAndUrlIsSecure()?n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-checkbox",{attrs:{label:"TLS client authentication",hint:e.serverUrlIsInsecure()?"TLS client authentication is not available with http:// URLs.":"ContainerSSH can authenticate itself with the authentication configuration server using TLS client certificates. Use this option to prevent brute forcing passwords against a publicly available authentication webhook server. Alternatively, firewall your webhook server.",disabled:e.serverUrlIsInsecure(),"persistent-hint":""},model:{value:e.answers.configuration.server.tlsClientAuthentication,callback:function(t){e.$set(e.answers.configuration.server,"tlsClientAuthentication",t)},expression:"answers.configuration.server.tlsClientAuthentication"}})],1)],1):e._e(),e.useDynamicConfigurationAndUrlIsSecure()?n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-alert",{directives:[{name:"show",rawName:"v-show",value:!e.answers.configuration.server.tlsClientAuthentication,expression:"!answers.configuration.server.tlsClientAuthentication"}],attrs:{icon:e.icons.mdiAlert,border:"left",color:"orange",dense:"",outlined:"",type:"warning"}},[e._v(" You are not using TLS client authentication. Anyone able to reach your authentication webhook server can brute force SSH credentials. Please firewall your webhook. ")]),n("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.answers.configuration.server.tlsClientAuthentication,expression:"answers.configuration.server.tlsClientAuthentication"}],attrs:{icon:e.icons.mdiCheck,border:"left",color:"green",dense:"",outlined:"",type:"success"}},[e._v(" Please add your client TLS certificates to the final config file in the marked space. ")])],1)],1):e._e()],1)},W=[],M={name:"DynamicConfiguration",props:{answers:Object},components:{CertificateField:U},methods:{serverUrlIsInsecure:function(){return this.answers.configuration.server.url.startsWith("http:")},serverUrlIsSecure:function(){return this.answers.configuration.server.url.startsWith("https:")},useDynamicConfiguration:function(){return this.answers.configuration.use},useDynamicConfigurationAndUrlIsSecure:function(){return this.useDynamicConfiguration()&&this.serverUrlIsSecure()}},data:function(){return{icons:{mdiAlert:N["a"],mdiCheck:N["b"]},rules:{required:function(e){return!!e||"Required."},isURL:function(e){return x()(e,{protocols:["http","https"],require_tld:!1})||"The specified URL is valid."}}}}},H=M,G=(n("58a1"),Object(f["a"])(H,B,W,!1,null,null,null)),K=G.exports;m()(G,{VAlert:L["a"],VCheckbox:q["a"],VCol:b["a"],VContainer:w["a"],VRow:k["a"],VTextField:O["a"]});var Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-radio-group",{attrs:{label:"Select your backend",row:""},model:{value:e.answers.backend.backend,callback:function(t){e.$set(e.answers.backend,"backend",t)},expression:"answers.backend.backend"}},e._l(e.backends,(function(t,r){return n("v-radio",{key:r,attrs:{value:t.value},scopedSlots:e._u([{key:"label",fn:function(){return[n("v-icon",[e._v(e._s(t.icon))]),e._v(" "+e._s(t.displayName)+" ")]},proxy:!0}],null,!0)})})),1)],1)],1)],1)},J=[],z={name:"Backend",props:{answers:Object},methods:{},data:function(){return{backends:[{displayName:"Docker",icon:N["e"],value:"docker"},{displayName:"Kubernetes",icon:N["g"],value:"kubernetes"}]}}},Q=z,X=n("132d"),Z=n("67b6"),ee=n("43a6"),te=Object(f["a"])(Q,Y,J,!1,null,null,null),ne=te.exports;m()(te,{VCol:b["a"],VContainer:w["a"],VIcon:X["a"],VRadio:Z["a"],VRadioGroup:ee["a"],VRow:k["a"]});var re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-text-field",{attrs:{label:"Host",hint:"The docker connect URL.","persistent-hint":"",outlined:"",required:""},model:{value:e.answers.backend.docker.host,callback:function(t){e.$set(e.answers.backend.docker,"host",t)},expression:"answers.backend.docker.host"}})],1)],1),n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-radio-group",{attrs:{label:"Authentication method",column:""},model:{value:e.answers.backend.docker.authenticationMethod,callback:function(t){e.$set(e.answers.backend.docker,"authenticationMethod",t)},expression:"answers.backend.docker.authenticationMethod"}},e._l(e.authenticationMethods,(function(t,r){return n("v-radio",{key:r,attrs:{value:t.value},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" "+e._s(t.displayName)+" ")]},proxy:!0}],null,!0)})})),1)],1)],1),n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-text-field",{attrs:{label:"Container image",outlined:""},model:{value:e.answers.backend.docker.image,callback:function(t){e.$set(e.answers.backend.docker,"image",t)},expression:"answers.backend.docker.image"}})],1)],1),n("v-row",{attrs:{dense:""}},[n("v-col",[n("EnvironmentField",{staticClass:"pl-0 pr-0",attrs:{label:"Container environment variables"},model:{value:e.answers.backend.docker.env,callback:function(t){e.$set(e.answers.backend.docker,"env",t)},expression:"answers.backend.docker.env"}})],1)],1),n("v-row",{attrs:{dense:""}},[n("v-col",[n("DockerMountField",{staticClass:"pl-0 pr-0",attrs:{label:"Host mount points"},model:{value:e.answers.backend.docker.mount,callback:function(t){e.$set(e.answers.backend.docker,"mount",t)},expression:"answers.backend.docker.mount"}})],1)],1)],1)},ae=[],se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-subheader",{staticClass:"pl-0 pr-0 mb-n3"},[e._v(e._s(e.label))])],1)],1),n("v-row",{directives:[{name:"show",rawName:"v-show",value:e.value.length>0,expression:"value.length > 0"}],attrs:{dense:""}},[n("v-col",[n("v-card",{attrs:{outlined:""}},[n("v-container",{attrs:{fluid:""}},e._l(e.value,(function(t,r){return n("v-row",{key:r,attrs:{dense:""}},[n("v-col",{attrs:{cols:"5"}},[n("v-text-field",{attrs:{label:"Key",rules:[function(e){return!!e||"Required"}]},scopedSlots:e._u([{key:"append-outer",fn:function(){return[n("v-icon",[e._v(e._s(e.icons.mdiEqual))])]},proxy:!0}],null,!0),model:{value:t.key,callback:function(n){e.$set(t,"key",n)},expression:"record.key"}})],1),n("v-col",{attrs:{cols:"5"}},[n("v-text-field",{attrs:{label:"Value",rules:[function(e){return!!e||"Required"}]},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"record.value"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{staticClass:"mt-5",attrs:{color:"red",small:""},on:{click:function(t){return e.removeItem(e.value,r)}}},[n("v-icon",{attrs:{color:"white",small:""}},[e._v(" "+e._s(e.icons.mdiCloseThick)+" ")])],1)],1)],1)})),1)],1)],1)],1),n("v-row",{attrs:{dense:""}},[n("v-col",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.hint,expression:"hint"}],staticClass:"v-messages theme--light mb-5"},[n("div",{staticClass:"v-messages__wrapper"},[n("div",{staticClass:"v-messages__message"},[e._v(" "+e._s(e.hint)+" ")])])]),n("v-btn",{attrs:{color:"secondary",small:""},on:{click:function(t){return e.addItem(e.value)}}},[n("v-icon",[e._v(" "+e._s(e.icons.mdiPlus)+" ")])],1)],1)],1)],1)},oe=[],ie=(n("a434"),{name:"EnvironmentField",props:{label:{type:String,required:!0},value:{type:Array},hint:{type:String},required:{type:Boolean,default:!1}},data:function(){return{defaults:{key:"",value:""},icons:{mdiPlus:N["h"],mdiEqual:N["f"],mdiCloseThick:N["d"]}}},methods:{addItem:function(e){e.push(Object.assign({},this.defaults))},removeItem:function(e,t){e.splice(t,1)}}}),ce=ie,le=n("8336"),ue=n("b0af"),de=n("e0c7"),he=Object(f["a"])(ce,se,oe,!1,null,null,null),ve=he.exports;m()(he,{VBtn:le["a"],VCard:ue["a"],VCol:b["a"],VContainer:w["a"],VIcon:X["a"],VRow:k["a"],VSubheader:de["a"],VTextField:O["a"]});var fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-subheader",{staticClass:"pl-0 pr-0 mb-n3"},[e._v(e._s(e.label))])],1)],1),n("v-row",{directives:[{name:"show",rawName:"v-show",value:e.value.length>0,expression:"value.length > 0"}],attrs:{dense:""}},[n("v-col",[n("v-card",{attrs:{outlined:""}},[n("v-container",{attrs:{fluid:""}},e._l(e.value,(function(t,r){return n("v-row",{key:r,attrs:{dense:""}},[n("v-col",{attrs:{cols:"5"}},[n("v-text-field",{attrs:{label:"Source",rules:e.validate},model:{value:t.source,callback:function(n){e.$set(t,"source",n)},expression:"record.source"}})],1),n("v-col",{attrs:{cols:"5"}},[n("v-text-field",{attrs:{label:"Target",rules:e.validate},model:{value:t.target,callback:function(n){e.$set(t,"target",n)},expression:"record.target"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{staticClass:"mt-5",attrs:{color:"red",small:""},on:{click:function(t){return e.removeItem(e.value,r)}}},[n("v-icon",{attrs:{color:"white",small:""}},[e._v(" "+e._s(e.icons.mdiCloseThick)+" ")])],1)],1)],1)})),1)],1)],1)],1),n("v-row",{attrs:{dense:""}},[n("v-col",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.hint,expression:"hint"}],staticClass:"v-messages theme--light mb-5"},[n("div",{staticClass:"v-messages__wrapper"},[n("div",{staticClass:"v-messages__message"},[e._v(" "+e._s(e.hint)+" ")])])]),n("v-btn",{attrs:{color:"secondary",small:""},on:{click:function(t){return e.addItem(e.value)}}},[n("v-icon",[e._v(" "+e._s(e.icons.mdiPlus)+" ")])],1)],1)],1)],1)},pe=[],me={name:"DockerMountField",props:{label:{type:String,required:!0},value:{type:Array},hint:{type:String},required:{type:Boolean,default:!1}},data:function(){return{defaults:{type:"bind",source:"",target:""},validate:[function(e){return!!e||"Required"},function(e){return/^(?:[a-z]:)?[/\\]{0,2}(?:[./\\ ](?![./\\\n])|[^<>:"|?*./\\ \n])+$/.test(e)||"Invalid path"}],icons:{mdiPlus:N["h"],mdiCloseThick:N["d"]}}},methods:{addItem:function(e){e.push(Object.assign({},this.defaults))},removeItem:function(e,t){e.splice(t,1)}}},be=me,we=Object(f["a"])(be,fe,pe,!1,null,null,null),ke=we.exports;m()(we,{VBtn:le["a"],VCard:ue["a"],VCol:b["a"],VContainer:w["a"],VIcon:X["a"],VRow:k["a"],VSubheader:de["a"],VTextField:O["a"]});var ge={name:"BackendDocker",props:{answers:Object},components:{DockerMountField:ke,EnvironmentField:ve},methods:{},data:function(){return{authenticationMethods:[{displayName:"None",value:"none"},{displayName:"Certificate",value:"certificate"}],rules:{required:function(e){return!!e||"Required."}}}}},ye=ge,Ce=Object(f["a"])(ye,re,ae,!1,null,null,null),Se=Ce.exports;m()(Ce,{VCol:b["a"],VContainer:w["a"],VRadio:Z["a"],VRadioGroup:ee["a"],VRow:k["a"],VTextField:O["a"]});var _e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-text-field",{attrs:{label:"Server name",hint:"Server name to be set in the SNI and used by the client for TLS verification.",rules:[e.rules.required],"persistent-hint":"",outlined:"",required:""},model:{value:e.answers.backend.kubernetes.serverName,callback:function(t){e.$set(e.answers.backend.kubernetes,"serverName",t)},expression:"answers.backend.kubernetes.serverName"}})],1)],1),n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-text-field",{attrs:{label:"Host",hint:"A host:port pair, or a URL to the Kubernetes apiserver. Defaults to kubernetes.default.svc.",rules:[e.rules.required],"persistent-hint":"",outlined:"",required:""},model:{value:e.answers.backend.kubernetes.host,callback:function(t){e.$set(e.answers.backend.kubernetes,"host",t)},expression:"answers.backend.kubernetes.host"}})],1)],1),n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-text-field",{attrs:{label:"API Endpoint",hint:"Sub-path that points to the API root. Defaults to /api",rules:[e.rules.required],"persistent-hint":"",outlined:"",required:""},model:{value:e.answers.backend.kubernetes.path,callback:function(t){e.$set(e.answers.backend.kubernetes,"path",t)},expression:"answers.backend.kubernetes.path"}})],1)],1),n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-radio-group",{attrs:{label:"Authentication method",column:""},model:{value:e.answers.backend.kubernetes.authenticationMethod,callback:function(t){e.$set(e.answers.backend.kubernetes,"authenticationMethod",t)},expression:"answers.backend.kubernetes.authenticationMethod"}},e._l(e.authenticationMethods,(function(t,r){return n("v-radio",{key:r,attrs:{value:t.value},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" "+e._s(t.displayName)+" ")]},proxy:!0}],null,!0)})})),1)],1)],1),n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-text-field",{attrs:{rules:[e.rules.required],label:"Container guest image",outlined:""},model:{value:e.answers.backend.kubernetes.image,callback:function(t){e.$set(e.answers.backend.kubernetes,"image",t)},expression:"answers.backend.kubernetes.image"}})],1)],1)],1)},xe=[],Ie={name:"BackendKubernetes",props:{answers:Object},components:{},methods:{},data:function(){return{authenticationMethods:[{displayName:"Bearer token",value:"bearer"},{displayName:"Certificate",value:"certificate"}],rules:{required:function(e){return!!e||"Required."}}}}},Te=Ie,Ee=Object(f["a"])(Te,_e,xe,!1,null,null,null),Ae=Ee.exports;m()(Ee,{VCol:b["a"],VContainer:w["a"],VRadio:Z["a"],VRadioGroup:ee["a"],VRow:k["a"],VTextField:O["a"]});var Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",[n("v-alert",{attrs:{type:"info"}},[e._v(" Please review the configuration below before use, as some parameters need to be set manually. ")])],1)],1),n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-textarea",{staticClass:"v-textarea-config",attrs:{label:"config.yaml",value:e.configContent,"persistent-hint":"",outlined:"",readonly:"",spellcheck:"false",rows:"15"}})],1)],1),n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.isFileSaverSupported,expression:"isFileSaverSupported"}],attrs:{color:"primary",large:""},on:{click:function(t){return e.downloadConfig()}}},[n("v-icon",[e._v(e._s(e.icons.mdiTrayArrowDown))]),e._v(" Download ")],1)],1)],1)],1)},Re=[],Fe=n("3835"),Ue=(n("d81d"),n("4fadc"),n("2ef0")),Ne=n.n(Ue),$e=n("8f3c"),Pe=n.n($e),Le=n("21a6"),qe=n.n(Le),Oe={name:"Download",props:{answers:Object},components:{},methods:{generateConfig:function(){this.yamlStructure={ssh:{hostkeys:["/var/secrets/ssh_host_rsa_key"]},log:{level:"debug"},auth:{url:""},backend:""},this.yamlStructure.auth.url=this.answers.authentication.webhook.url,this.answers.authentication.webhook.url.startsWith("https:")&&(this.yamlStructure.auth=Ne.a.mergeWith(this.yamlStructure.auth,{cert:this.answers.authentication.webhook.certificate})),this.answers.configuration.use&&(this.yamlStructure=Ne.a.mergeWith(this.yamlStructure,{configuration:{url:this.answers.configuration.server.url}}),this.answers.configuration.server.url.startsWith("https:")&&(this.yamlStructure=Ne.a.mergeWith(this.yamlStructure,{configuration:{cert:this.answers.configuration.server.certificate}})),this.answers.configuration.server.tlsClientAuthentication&&(this.yamlStructure=Ne.a.mergeWith(this.yamlStructure,{configuration:{cacert:"-----BEGIN CERTIFICATE-----\n(PLEASE REPLACE)\n-----END CERTIFICATE-----",key:"-----BEGIN RSA PRIVATE KEY-----\n(PLEASE REPLACE)\n-----END RSA PRIVATE KEY-----"}}))),this.yamlStructure.backend=this.answers.backend.backend,"docker"===this.answers.backend.backend&&(this.yamlStructure=Ne.a.mergeWith(this.yamlStructure,{docker:{connection:{host:this.answers.backend.docker.host}}}),"certificate"===this.answers.backend.docker.authenticationMethod&&(this.yamlStructure.docker.connection=Ne.a.mergeWith(this.yamlStructure.docker.connection,{cacert:"-----BEGIN CERTIFICATE-----\n(PLEASE REPLACE)\n-----END CERTIFICATE-----",cert:"-----BEGIN CERTIFICATE-----\n(PLEASE REPLACE)\n-----END CERTIFICATE-----",key:"-----BEGIN RSA PRIVATE KEY-----\n(PLEASE REPLACE)\n-----END RSA PRIVATE KEY-----"})),this.answers.backend.docker.env.length>0&&(this.yamlStructure.docker=Ne.a.mergeWith(this.yamlStructure.docker,{execution:{container:{env:Object.entries(this.answers.backend.docker.env).map((function(e){var t=Object(Fe["a"])(e,2),n=(t[0],t[1]);return n.key+"="+n.value}))}}})),this.answers.backend.docker.mount.length>0&&(this.yamlStructure.docker=Ne.a.mergeWith(this.yamlStructure.docker,{execution:{host:{mounts:this.answers.backend.docker.mount}}}))),"kubernetes"===this.answers.backend.backend&&(this.yamlStructure=Ne.a.mergeWith(this.yamlStructure,{kubernetes:{connection:{serverName:this.answers.backend.kubernetes.serverName,host:this.answers.backend.kubernetes.host,path:this.answers.backend.kubernetes.path,cacertFile:"/var/run/secrets/kubernetes.io/serviceaccount/ca.crt"},pod:{metadata:{namespace:"containerssh"},spec:{containers:[{name:"shell",image:this.answers.backend.kubernetes.image}]}}}}),"bearer"===this.answers.backend.kubernetes.authenticationMethod&&(this.yamlStructure.kubernetes.connection=Ne.a.mergeWith(this.yamlStructure.kubernetes.connection,{bearerTokenFile:"/var/run/secrets/kubernetes.io/serviceaccount/token"})),"certificate"===this.answers.backend.kubernetes.authenticationMethod&&(this.yamlStructure.kubernetes.connection=Ne.a.mergeWith(this.yamlStructure.kubernetes.connection,{certFile:"/specify/the/path/of/certificate/file.pem",keyFile:"/specify/the/path/of/private/key/file.key"}))),this.configContent="# Generated with ContainerSSH Configurator (https://configurator.containerssh.io)\n---\n"+Pe.a.stringify(this.yamlStructure)},downloadConfig:function(){var e=new Blob([this.configContent],{type:"text/plain; charset=utf-8"});qe.a.saveAs(e,"config.yaml")}},mounted:function(){try{this.isFileSaverSupported=!!new Blob}catch(e){this.isFileSaverSupported=!1}this.generateConfig()},data:function(){return{icons:{mdiClipboardTextOutline:N["c"],mdiTrayArrowDown:N["i"]},isFileSaverSupported:!1,yamlStructure:null,configContent:""}}},De=Oe,je=(n("3322"),Object(f["a"])(De,Ve,Re,!1,null,null,null)),Be=je.exports;m()(je,{VAlert:L["a"],VBtn:le["a"],VCol:b["a"],VContainer:w["a"],VIcon:X["a"],VRow:k["a"],VTextarea:E["a"]});var We={name:"Configurator",components:{Welcome:y,Authentication:j,DynamicConfiguration:K,Backend:ne,BackendDocker:Se,BackendKubernetes:Ae,Download:Be},data:function(){return{icons:{},step:1,authenticationForm:!1,dynamicConfigurationForm:!1,backendForm:!1,answers:{authentication:{webhook:{url:"http://authconfig:8080",certificate:null,tlsClientAuthentication:!1}},configuration:{use:!1,server:{url:"http://authconfig:8080/config",certificate:null,tlsClientAuthentication:!1}},backend:{backend:"docker",docker:{host:"unix:///var/run/docker.sock",authenticationMethod:"none",image:"containerssh/containerssh-guest-image",env:[],mount:[]},kubernetes:{host:"kubernetes.default.svc",serverName:"kubernetes.default.svc",path:"/api",authenticationMethod:"bearer",image:"containerssh/containerssh-guest-image"}}}}},methods:{isCompleted:function(e){return this.step>e},webhookUrlIsInsecure:function(){return this.answers.authentication.webhook.url.startsWith("http:")},configServerUrlIsInsecure:function(){return this.answers.configuration.server.url.startsWith("http:")},goToStep:function(e){this.step=e,this.$refs.configGenerator.generateConfig()},goToStepIfCompleted:function(e){this.isCompleted(e)&&this.goToStep(e)}}},Me=We,He=n("4bd4"),Ge=n("7e85"),Ke=n("e516"),Ye=n("56a4"),Je=Object(f["a"])(Me,c,l,!1,null,null,null),ze=Je.exports;m()(Je,{VBtn:le["a"],VForm:He["a"],VStepper:Ge["a"],VStepperContent:Ke["a"],VStepperStep:Ye["a"]});var Qe=r["default"].extend({name:"Home",components:{Configurator:ze}}),Xe=Qe,Ze=Object(f["a"])(Xe,o,i,!1,null,null,null),et=Ze.exports,tt={name:"App",components:{Home:et},data:function(){return{}}},nt=tt,rt=n("7496"),at=n("f6c4"),st=Object(f["a"])(nt,a,s,!1,null,null,null),ot=st.exports;m()(st,{VApp:rt["a"],VMain:at["a"]});var it=n("8c4f");r["default"].use(it["a"]);var ct=[{path:"/",name:"Configurator",component:et}],lt=new it["a"]({mode:"history",base:"/",routes:ct}),ut=lt,dt=n("2f62");r["default"].use(dt["a"]);var ht=new dt["a"].Store({state:{},mutations:{},actions:{},modules:{}}),vt=n("ce5b"),ft=n.n(vt);r["default"].use(ft.a);var pt=new ft.a({icons:{iconfont:"mdiSvg"}}),mt=pt;r["default"].config.productionTip=!1,new r["default"]({router:ut,store:ht,vuetify:mt,render:function(e){return e(ot)}}).$mount("#app")}});
//# sourceMappingURL=index.5e67ecb2.js.map